!function(f){f(function(){function a(e,n){switch(qTranslateConfig.url_mode.toString()){case"1":e.search?e.search+="&lang="+n:e.search="?lang="+n;break;case"2":var a=qTranslateConfig.home_url_path,t=e.pathname;"/"!==t[0]&&(t="/"+t);var r=t.indexOf(a);0<=r&&(e.pathname=qTranslateConfig.homeinfo_path+n+t.substring(r+a.length-1));break;case"3":e.host=n+"."+e.host;break;case"4":e.host=qTranslateConfig.domains[n]}}function e(e){if(!t){var n=document.getElementById("view-post-btn");if(!n||!n.children.length)return;if("A"!==(t=n.children[0]).tagName)return;r=t.href,i=qtranxj_ce("a",{}),r.search(/\?/)}i.href=r,a(i,e),t.href=i.href,(n=document.getElementById("preview-action"))&&n.children.length&&(n.children[0].href=i.href),1!==qTranslateConfig.url_mode?(o||(n=document.getElementById("sample-permalink"))&&0<n.offsetHeight&&n.childNodes.length&&(o=n.childNodes[0],l=o.nodeValue),o&&(i.href=l,a(i,e),o.nodeValue=i.href)):(d||(f("#sample-permalink").append('<span id="sample-permalink-lang-query"></span>'),d=f("#sample-permalink-lang-query")),d&&d.text((r.search(/\?/)<0?"/?lang=":"&lang=")+e)),(s=s||document.getElementById("wp-admin-bar-view"))&&s.children.length&&(s.children[0].href=t.href)}var t,r,i,o,l,s,d,n,c=qTranslateConfig.js.get_qtx(),h=f("#title"),g=f("#title-prompt-text");for(n in c.addCustomContentHooks(),e(c.getActiveLanguage()),c.addLanguageSwitchAfterListener(e),g&&h&&c.addLanguageSwitchAfterListener(function(e){h.val()?g.addClass("screen-reader-text"):g.removeClass("screen-reader-text")}),c.getLanguages())f("#wp-admin-bar-"+n+" a").on("click",function(e){e.preventDefault();var n=function(e){for(var n={},a=("?"===e[0]?e.substr(1):e).split("&"),t=0;t<a.length;t++){var r=a[t].split("=");n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]||"")}return n}(window.location.search),e=f(this).attr("rel");n.lang=e,window.location=window.location.origin+window.location.pathname+"?"+f.param(n)})})}(jQuery);